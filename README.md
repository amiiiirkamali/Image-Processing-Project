# پروژه پردازش تصاویر خاکستری

## 📝 شرح پروژه

این پروژه یک کتابخانه جامع برای اعمال انواع فیلترهای پردازش تصویر بر روی تصاویر خاکستری ارائه می‌دهد. هدف اصلی این پروژه، بررسی تأثیر فیلترهای مختلف پردازش تصویر و همچنین بررسی اهمیت ترتیب اعمال این فیلترها در نتیجه نهایی است.

## 🎯 ویژگی‌های اصلی

- **اعمال فیلترهای مجزا**: 3 فیلتر مختلف روی 10 تصویر خاکستری به صورت جداگانه
- **اعمال فیلترهای متوالی**: بررسی تأثیر ترتیب اعمال فیلترها روی 4 تصویر منتخب
- **خروجی بصری**: نمایش و ذخیره گرافیکی نتایج برای تحلیل بهتر
- **فیلترهای متنوع**: پیاده‌سازی طیف گسترده‌ای از فیلترها و تبدیل‌های تصویر

## 🧩 فیلترهای پیاده‌سازی شده

### 📊 تبدیل‌های سطح خاکستری
- نگاتیو کردن تصویر (معکوس کردن مقادیر پیکسل‌ها)
- همسان‌سازی هیستوگرام (بهبود کنتراست)
- تبدیل لگاریتمی (افزایش روشنایی در نواحی تیره)
- تبدیل توانی/گاما (تنظیم کنتراست)
- تبدیل خطی (تغییر روشنایی)

### 🔍 آشکارسازی لبه‌ها
- فیلتر لبه‌یابی سوبل
- فیلتر لبه‌یابی روبرت
- فیلترهای لبه‌یابی با ماسک‌های دلخواه

### 🧹 حذف نویز و نرم‌سازی
- فیلتر میانگین گیری گوسی
- فیلتر غیرخطی میانه
- فیلتر میانگین گیری باکس (فیلتر متوسط)

### ⚡ فیلترهای مورفولوژیک
- فیلتر ماکزیمم (دیلیشن)
- فیلتر مینیمم (ایروژن)

### 🎭 آستانه‌گذاری
- حد آستانه ساده (دودویی کردن)
- حد آستانه دو سطحی (جداسازی به سه طبقه)

### 🎲 افزودن نویز
- نویز فلفل نمکی (نقاط سیاه و سفید تصادفی)
- نویز گوسی (نویز با توزیع نرمال)

## 📋 پیش‌نیازها

```bash
pip install numpy opencv-python matplotlib
```

## 🚀 نحوه استفاده

1. **آماده‌سازی تصاویر**:
   - 10 تصویر خاکستری را با نام‌های `image1.jpg` تا `image10.jpg` در پوشه `images` قرار دهید.
   - اگر تصاویر رنگی باشند، به صورت خودکار به سطح خاکستری تبدیل می‌شوند.

2. **اجرای کد**:
   ```bash
   python main.py
   ```

3. **خروجی‌ها**:
   - نتایج فیلترهای مجزا در پوشه `output/individual_filters`
   - نتایج فیلترهای متوالی و مقایسه‌ها در پوشه `output/sequential_filters`

## 📊 نمونه خروجی‌ها

### فیلترهای مجزا

هر تصویر با سه فیلتر متفاوت پردازش می‌شود و نتایج به صورت مجزا نمایش داده می‌شوند:

```
تصویر اصلی -> فیلتر 1 (نگاتیو)
تصویر اصلی -> فیلتر 2 (لبه‌یابی سوبل)
تصویر اصلی -> فیلتر 3 (همسان‌سازی هیستوگرام)
```

### فیلترهای متوالی

فیلترها با دو ترتیب متفاوت (1→2→3 و 3→2→1) بر روی تصویر اعمال می‌شوند:

```
ترتیب اول: تصویر اصلی -> فیلتر 1 -> فیلتر 2 -> فیلتر 3
ترتیب دوم: تصویر اصلی -> فیلتر 3 -> فیلتر 2 -> فیلتر 1
```

## 🔬 بررسی تأثیر ترتیب فیلترها

نتایج نشان می‌دهند که ترتیب اعمال فیلترها تأثیر قابل توجهی در نتیجه نهایی دارد:

1. **لبه‌یابی و همسان‌سازی**: لبه‌یابی بعد از همسان‌سازی هیستوگرام عملکرد بهتری دارد.
2. **نویز و نرم‌سازی**: فیلترهای نرم‌کننده بهتر است بعد از اضافه کردن نویز اعمال شوند.
3. **تغییرات هیستوگرام**: تغییرات هیستوگرام در ابتدای زنجیره پردازش، عملکرد فیلترهای بعدی را بهبود می‌بخشد.
4. **نگاتیو کردن**: نگاتیو کردن در ابتدا یا انتها تفاوت معناداری ایجاد نمی‌کند، اما می‌تواند روی پارامترهای فیلترهای بعدی تأثیر بگذارد.
5. **آستانه‌گذاری**: اعمال حد آستانه بعد از نرم‌سازی تصویر نتایج بهتری می‌دهد.

## 📂 ساختار پروژه

```
image-processing-project/
│
├── main.py                      # کد اصلی پروژه
├── README.md                    # این فایل راهنما
├── .gitignore                   # فایل‌های نادیده گرفته شده توسط گیت
│
├── images/                      # پوشه تصاویر ورودی
│   ├── image1.jpg               # تصویر چهره انسان
│   ├── image2.jpg               # تصویر منظره طبیعی
│   ├── image3.jpg               # تصویر ساختمان شهری
│   ├── image4.jpg               # تصویر بافت سنگ
│   ├── image5.jpg               # تصویر برگ گیاه
│   ├── image6.jpg               # تصویر اثر انگشت
│   ├── image7.jpg               # تصویر آسمان ابری
│   ├── image8.jpg               # تصویر بافت پارچه 
│   ├── image9.jpg               # تصویر گل‌های مرداب
│   └── image10.jpg              # تصویر میکروسکوپی
│
└── output/                      # پوشه خروجی‌ها (ایجاد می‌شود)
    ├── individual_filters/      # نتایج فیلترهای مجزا
    └── sequential_filters/      # نتایج فیلترهای متوالی
```

## 🎓 توضیحات نظری

### اهمیت ترتیب اعمال فیلترها

در پردازش تصویر، ترتیب اعمال فیلترها می‌تواند نتایج بسیار متفاوتی تولید کند. این تفاوت‌ها به دلیل ماهیت غیرخطی برخی از فیلترها (مانند فیلتر میانه) یا روش‌های تبدیل هیستوگرام است. به عنوان مثال:

- اعمال لبه‌یابی پس از نرم‌سازی منجر به تشخیص لبه‌های اصلی با حذف نویز می‌شود.
- اعمال لبه‌یابی پیش از نرم‌سازی منجر به تشخیص لبه‌های نویزی و سپس نرم‌سازی آن‌ها می‌شود، که لبه‌ها را مبهم می‌کند.

### مفاهیم فیلترهای استفاده شده

- **لبه‌یابی**: تشخیص تغییرات ناگهانی در شدت روشنایی
- **نرم‌سازی**: کاهش نویز و جزئیات غیرضروری تصویر
- **تبدیل‌های هیستوگرام**: تغییر توزیع سطوح روشنایی برای بهبود کنتراست
- **فیلترهای مورفولوژیک**: تغییر شکل و ساختار اشیاء در تصویر

## 🔧 سفارشی‌سازی

برای استفاده از تصاویر با نام‌های متفاوت یا تغییر پارامترهای فیلترها، می‌توانید مقادیر مربوطه را در بخش `image_filters` در کد اصلی تغییر دهید:

```python
# برای تغییر پارامترهای یک فیلتر
{"func": lambda img: gaussian_blur(img, kernel_size=5), "name": "Gaussian Blur (5x5)"}

# برای جایگزینی یک فیلتر با فیلتر دیگر
{"func": custom_filter, "name": "My Custom Filter"}
```

Written By: Amirreza Kamali
Contact: amirrezakamali5382@gmail.com
Github: amiiiirkamali

اگر سؤال یا پیشنهادی دارید، لطفاً از طریق gmail با من در ارتباط باشید.

---

**پی‌نوشت**: این پروژه در راستای یادگیری و آموزش مفاهیم پردازش تصویر ایجاد شده است.

